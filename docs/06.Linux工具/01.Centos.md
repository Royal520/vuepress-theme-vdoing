---
title:  'Linuxå¸¸ç”¨å·¥å…·'
date: 2020-05-12 15:09:57
permalink: /pages/linux/centos
article: false
---

## `repotrack`æ˜¯ä¸€ä¸ªyumåŒ…ä¾èµ–ä¸‹è½½å·¥å…·ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹

```
# é¦–å…ˆå®‰è£…yum-utils
sudo yum install yum-utils

# ä½¿ç”¨repotrackä¸‹è½½nginxåŠå…¶ä¾èµ–é¡¹
mkdir nginx-packages
repotrack -p nginx-packages nginx

# æ¥ä¸‹æ¥ï¼Œå°†nginx-packagesç›®å½•å¤åˆ¶åˆ°ç¦»çº¿æœºå™¨ä¸Š
# åœ¨ç¦»çº¿æœºå™¨ä¸Šå®‰è£…nginx
cd nginx-packages
sudo rpm -Uvh --force --nodeps *.rpm
```

## `nginx` å¸¸ç”¨é…ç½®

``` editorconfig
# é…ç½® box.2007nb.cf çš„ HTTPS
server {
    listen 80;
    server_name box.2007nb.cf;

    location / {
        client_max_body_size 1024m; 
        proxy_pass http://35.221.137.233:12345;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}

# é…ç½® box.2007nb.cf çš„ HTTPS
server {
    listen 443 ssl;
    server_name box.2007nb.cf;

    ssl_certificate /etc/letsencrypt/live/box.2007nb.cf/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/box.2007nb.cf/privkey.pem;

    ssl_protocols TLSv1.2 TLSv1.3;
    ssl_ciphers HIGH:!aNULL:!MD5;

    location / {
        client_max_body_size 1024m; 
        proxy_pass http://35.221.137.233:12345;  # å‡è®¾åç«¯æœåŠ¡è¿è¡Œåœ¨8082ç«¯å£
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}
```



## è‡´è°¢
æ„Ÿè°¢ç»™äºˆæ”¯æŒçš„æœ‹å‹ï¼Œæ‚¨çš„æ”¯æŒæ˜¯æˆ‘å‰è¿›çš„åŠ¨åŠ› ğŸ‰
